<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>App</title>

<script src="https://telegram.org/js/telegram-web-app.js?v=6"></script>

<style>
/* CSS MINIMO â€“ SOLO STRUTTURA */

*{box-sizing:border-box}

body{
  margin:0;
  font-family:sans-serif;
}

.container{
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:16px;
}

.header{
  text-align:center;
}

.panel{
  width:100%;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.card-catalog{
  grid-column:1/-1;
  padding:24px;
  text-align:center;
  cursor:pointer;
}

.card-small{
  padding:20px;
  text-align:center;
  cursor:pointer;
}

.bottom-bar{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  display:flex;
  justify-content:space-around;
  padding:12px;
}

.bottom-bar a{
  cursor:pointer;
  text-decoration:none;
}

/* popup base */
.popup-overlay{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
}

.popup-overlay.show{
  display:flex;
}

.popup-box{
  padding:20px;
  text-align:center;
}

.popup-username{
  display:block;
  margin-top:10px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="container">

  <!-- HEADER -->
  <div class="header">
    <h1>TITLE</h1>
    <small>subtitle</small>
  </div>

  <!-- PANEL -->
  <div class="panel">
    <div class="grid">

      <!-- CATALOG -->
      <div class="card-catalog" onclick="location.href='catalog.html'">
        CATALOG
      </div>

      <!-- CONTACTS -->
      <div class="card-small"
        onclick="openPopup(
          'CONTACT',
          'Telegram',
          'https://t.me/INSERT',
          'Signal',
          'https://signal.me/#INSERT'
        )">
        CONTACTS
      </div>

      <!-- CHANNELS -->
      <div class="card-small"
        onclick="openPopup(
          'CHANNEL',
          'Telegram',
          'https://t.me/INSERT'
        )">
        CHANNELS
      </div>

      <!-- CREATED BY -->
      <div class="card-small"
        onclick="openPopup(
          'CREATED BY',
          'AUTHOR',
          'https://t.me/INSERT'
        )">
        CREATED BY
      </div>

      <!-- NEWS -->
      <div class="card-small">
        NEWS
      </div>

    </div>
  </div>
</div>

<!-- POPUP -->
<div id="popup" class="popup-overlay" onclick="closePopup()">
  <div class="popup-box" onclick="event.stopPropagation()">
    <div id="popup-title"></div>
    <a id="popup-link-telegram" class="popup-username"></a>
    <a id="popup-link-signal" class="popup-username"></a>
  </div>
</div>

<!-- BOTTOM BAR -->
<div class="bottom-bar">
  <a onclick="tg.openLink('https://t.me/INSERT')">Telegram</a>
  <a onclick="tg.openLink('https://instagram.com/INSERT')">Instagram</a>
  <a onclick="tg.openLink('https://signal.me/#INSERT')">Signal</a>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

const popup = document.getElementById("popup");
const popupTitle = document.getElementById("popup-title");
const popupTelegram = document.getElementById("popup-link-telegram");
const popupSignal = document.getElementById("popup-link-signal");

function openPopup(title, tgText, tgUrl, signalText, signalUrl){
  popupTitle.innerText = title;

  popupTelegram.innerText = tgText;
  popupTelegram.onclick = () => tg.openLink(tgUrl);

  if(signalText && signalUrl){
    popupSignal.innerText = signalText;
    popupSignal.onclick = () => tg.openLink(signalUrl);
    popupSignal.style.display = "block";
  } else {
    popupSignal.style.display = "none";
  }

  popup.classList.add("show");
}

function closePopup(){
  popup.classList.remove("show");
}
</script>

</body>
</html>
